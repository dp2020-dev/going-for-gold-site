<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Help - Going for Gold</title>
    <link rel="stylesheet" href="style.css" />
    <meta
      name="description"
      content="Help and instructions for the Going for Gold fitness tracking app."
    />
    <style>
      .collapsible-header {
        cursor: pointer;
        user-select: none;
        transition: color 0.2s ease;
      }

      .collapsible-header:hover {
        color: #0066cc;
      }

      .chevron {
        font-size: 0.8em;
        margin-left: 8px;
        transition: transform 0.3s ease;
        display: inline-block;
      }

      .chevron.rotated {
        transform: rotate(180deg);
      }

      .collapsible-content {
        overflow: hidden;
        transition:
          max-height 0.3s ease,
          opacity 0.3s ease;
        max-height: 0;
        opacity: 0;
      }

      .collapsible-content.open {
        max-height: 2000px;
        opacity: 1;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Going for Gold</h1>
      <nav>
        <a href="index.html">Home</a>
        <a href="setup.html">Set up</a>
        <a href="privacy.html">Privacy</a>
        <a href="contact.html">Contact</a>
      </nav>
    </header>

    <div id="page-index">
      <h2>On This Page</h2>
      <ul>
        <li><a href="#getting-started">Getting Started</a></li>
        <li><a href="#how-points-work">How Points Work</a></li>
        <li><a href="#advanced-notes">Advanced Notes</a></li>
        <li><a href="#competitions">Competitions</a></li>
      </ul>
      <hr />
    </div>
    <main>
      <section>
        <h3 id="getting-started">Getting Started</h3>

        <p>
          On installing the app, grant Apple Health access to allow Going For
          Gold to start tracking steps and workouts. See
          <a
            href="https://dp2020-dev.github.io/going-for-gold-site/privacy.html"
            >Privacy policy</a
          >
          to see how your health data remains private.
        </p>

        <div class="media-container">
          <img
            class="media-center"
            src="images/granted_health_access_16pro.jpg"
            alt="Grant Apple Health access screen"
            style="max-width: 300px; height: auto"
          />
          <p>
            With HealthKit settings allowed, clicking **Request Health Data**
            initially (or **Refresh Data**) will fetch your health data and
            start tracking your points.
          </p>
        </div>

        <div class="media-container">
          <img
            class="media-center"
            src="images/Refresh.jpg"
            alt="Refresh data button"
            style="max-width: 300px; height: auto"
          />
          <p>
            In Settings, set your personal medal targets—give yourself a target
            to get those hard-earned medals!
          </p>
        </div>

        <p>
          <em
            >Default targets: 120 points (bronze), 140 (silver), 160 (gold) -
            fully customizable</em
          >
        </p>

        <div class="media-container">
          <img
            class="media-center"
            src="images/settingsWithDelete.jpg"
            alt="Settings screen showing medal targets"
            style="max-width: 300px; height: auto"
          />
          <p>
            To include workout data, set **apple watch access on** and set your
            **age** to track workouts (in Settings).
            <a href="#workouts-30-plus">Read more on workouts here.</a>
          </p>
        </div>

        <div class="media-container">
          <img
            class="media-center"
            src="images/SettingsAge.png"
            alt="Workouts on, set age"
            style="max-width: 300px; height: auto"
          />
          <p>Optional: Create a cloud account to join leagues.</p>
        </div>

        <p>View your progress in the app.</p>
      </section>

      ---

      <section>
        <h3 id="how-points-work">How Points Work</h3>

        Going For Gold converts your daily steps and workouts into points so you
        can track your fitness progress in a competitive and fun way. Here's how
        points are calculated:

        <h4>Daily Steps:</h4>
        <p>
          7k steps = 3 points<br />
          10k steps = 5 points<br />
          12.5k+ steps = 8 points
        </p>

        <h4 id="workouts-30-plus">Workouts (30+ minutes):</h4>
        <p>
          Points are based on heart rate intensity relative to your age, see
          Advanced notes below.
        </p>
        <br />
        Note: If you have both steps and a workout on the same day, only the
        activity with the highest points counts toward your total.
      </section>

      ---

      <section>
        <h3
          id="advanced-notes"
          class="collapsible-header"
          onclick="toggleSection('advanced-content')"
        >
          Advanced Notes <span class="chevron" id="advanced-chevron">▼</span>
        </h3>

        <div id="advanced-content" class="collapsible-content">
          <h4>Workout Points Calculation</h4>
          <p>
            For workouts with at least 30 minutes duration, points are awarded
            based on average heart rate:
          </p>
          <p>
            <strong>5 points:</strong> Average heart rate $\geq$ (220 - user
            age) $\times$ 0.6<br />
            <strong>8 points:</strong> Average heart rate $\geq$ (220 - user
            age) $\times$ 0.7
          </p>

          <h4>Examples:</h4>

          <p><strong>For age 49:</strong></p>
          <p>
            Max HR: 171 bpm (220 - 49)<br />
            5 points: 103+ bpm (60% of 171)<br />
            8 points: 120+ bpm (70% of 171)
          </p>

          <p><strong>For age 20:</strong></p>
          <p>
            Max HR: 200 bpm (220 - 20)<br />
            5 points: 120+ bpm<br />
            8 points: 140+ bpm
          </p>

          <p><em>User age can be set in Settings.</em></p>
        </div>
      </section>

      ---

      <section>
        <h3 id="competitions">Competitions</h3>
        <p>
          In My Competitions, you can create or join private leagues to compete
          against friends. The league is based on each participant's daily
          points, and you can all strive to finish on the medal podium!
        </p>
        <br />

        <!-- Text wrapping section with floated image -->
        <div class="text-wrap-container">
          <img
            class="float-left-image"
            src="images/competitonFullView.jpg"
            alt="Competition view showing leaderboard"
            style="max-width: 300px; height: auto"
          />

          <p>
            Competitions require creating a cloud account (email + password) to
            sync your points securely. To create an account, follow the prompts
            in My Competitions and click the <b>Sign Up</b> link (or
            <b>Sign In</b> if you've already made an account).
          </p>

          <p>Note you can check your cloud status in Settings.</p>

          <h4>Set up competition</h4>
          <p>
            To set up a competition, give it a name, a start and end date and
            share the joining code with friends.
          </p>
          <p>
            <b>Only</b> your points are shared in the cloud/with friends,
            <b>not your health data.</b>
          </p>

          <h4>Join a competition</h4>
          <p>
            To join a competition, enter the joining code provided by the
            competition creator. Codes are unique for each competition and are
            listed at the bottom of the league view.
          </p>

          <h4>Delete Cloud Account</h4>
          <p>
            If you wish to delete your cloud account, go to Settings and click
            'Delete Account'. This will remove your cloud account user name,
            email and remove your name from any cloud competitions you've
            joined. You can continue to use the account as a local user.
          </p>
        </div>
      </section>
    </main>

    <footer>
      <p>&copy; 2025 Going for Gold</p>
    </footer>

    <script>
      function toggleSection(contentId) {
        const content = document.getElementById(contentId);
        const chevron = document.getElementById("advanced-chevron");

        if (content.classList.contains("open")) {
          content.classList.remove("open");
          chevron.classList.remove("rotated");
        } else {
          content.classList.add("open");
          chevron.classList.add("rotated");
        }
      }
    </script>
  </body>
</html>
